# 浏览器绘制页面过程
- [主线程]解析HTML文档，构建DOM树
- [主线程]解析CSS文档，构建CSSOM树
- [主线程]将DOM树和CSSOM树合并成渲染树
- [主线程]布局渲染树，计算每个元素的位置和大小
- [主线程]拆分对应层，交给合成线程
- [合成线程]得到对应层进行分割，根据优先级交给光栅化线程池 进行光栅化。
- [光栅化线程池]得到对应分块进行光栅化，结果存储在GPU
- [合成线程]得到光栅化结果，进行合成，最终显示在屏幕上。

# 如何优化DOM操作
- 批量操作
- 纯合成动画
  - 浏览器渲染过程中，和页面上其他元素不属于同一坐标空间会被提到其它层（称为合成层），最后由GPU 进行合成，显示内容。当动画同时满足以下几个条件时，GPU 只经过重新合成就可以渲染动画的每一帧。
     - 不会造成重排：用transform 等属性来实现动画，而不是用 left、top 等属性。
     - 不会造成重绘：用 opacity 等属性来实现动画，而不是用 color 等属性。
     - 动画对象处于合成层：用 will-change 等属性来将元素提升为合成层，而不是用普通层。